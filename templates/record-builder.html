<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Record Builder</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #111; color: #fff; }
    .meta-field { background: #222; padding: 1rem; border-radius: 12px; margin-bottom: 1rem; position: relative; }
    .delete-btn { position: absolute; top: 10px; right: 10px; color: red; cursor: pointer; font-size: 1.5rem; }
    .form-control, .form-select { background-color: #333; color: #fff; border: 1px solid #444; }
    .meta-field-row { display: flex; gap: 1rem; align-items: center; }
    .meta-field-row .form-control { flex: 1; }
    .json-preview { background: #1a1a1a; padding: 1rem; border-radius: 8px; white-space: pre-wrap; word-break: break-word; margin-top: 1rem; }

    @keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  50% { transform: translateX(6px); }
  75% { transform: translateX(-6px); }
  100% { transform: translateX(0); }
}
.shake {
  animation: shake 0.3s ease-in-out;
}
#record-error {
  color: red;
  font-weight: bold;
  margin-top: 10px;
}
  </style>
</head>
<body class="p-4">
  <div class="container">
    <h1 class="text-center mb-4">
      <a href="/" style="text-decoration: none; color: inherit;">ðŸ“˜</a> My Records
    </h1>


    <div id="meta-fields"></div>
    <button class="btn btn-outline-info mb-3" onclick="addMetaField()">âž• Add Meta Info Field</button>

    <form id="start-form" onsubmit="startRecording(event)" class="mb-4">
      <button type="submit" class="btn btn-success">â–¶ Start Recording</button>
    </form>
    <div id="record-error" class="text-danger fw-semibold mt-2" style="display: none;"></div>

    <div id="action-buttons" class="mt-3 text-center">
      <button class="btn btn-primary" onclick="downloadRecord()">ðŸ“‚ Save As New Record</button>
      <button class="btn btn-warning ms-2" onclick="applyChanges()">ðŸ“Ž Apply Changes</button>
    </div>

    <div id="preview-container" class="json-preview d-none">
      <h5>ðŸ“¦ Record Preview</h5>
      <code id="record-preview" style="display: block;"></code>
    </div>

    <!-- ðŸ”™ Go Back Button -->
    <div class="text-center mt-4">
      <a href="/record-dashboard" class="btn btn-outline-light">ðŸ”™ Go Back</a>
    </div>
  </div>

  <script src="{{ url_for('static', filename='js/recoder_builder.js') }}"></script>
</body>
</html>
